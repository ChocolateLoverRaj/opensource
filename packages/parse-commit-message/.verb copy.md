_**TODO:** need to add support in [jest-runner-docs][] to handle multiple files in `src/`. For now read the comments there._

### Exposed named methods

```js
export {
  // methods that accepts
  // string, array of strings, Commit and etc
  parse,
  stringify,
  validate,
  check,
  // methods only for the "header",
  // e.g. the first lien of a commit
  parseHeader,
  stringifyHeader,
  validateHeader,
  checkHeader,
  // methods that accepts only Commit type object
  parseCommit,
  stringifyCommit,
  validateCommit,
  checkCommit,
  // main
  applyPlugins,
  mappers,
  plugins,
  // utils
  stringToHeader,
  toArray,
  cleaner,
  errorMsg,
  isBreakingChange,
  isValidString,
  normalizeCommit,
};
```

### Types

```ts
export interface CommitResult {
  error?: Error;
  // eslint-disable-next-line @typescript-eslint/no-explicit-any
  value?: any;
}

export interface Mention {
  index: number;
  handle: string;
  mention: string;
}

export interface HeaderType {
  type: string;
  scope?: string | null;
  subject: string;
}

export interface SimpleHeader {
  value: string;
}

export type Header = HeaderType | SimpleHeader;

export interface Commit {
  header: Header;
  body?: string | null;
  footer?: string | null;
  increment?: string | boolean;
  isBreaking?: boolean;
  mentions?: Array<Mention>;
  [key: string]: any;
}

export type PossibleCommit = string | Commit | Array<Commit>;

export type Plugin = (
  commit: Commit,
  normalize?: boolean,
) => void | {} | Commit;
export type Plugins = Plugin | Array<Plugin>;

export interface Mappers {
  mentions: Plugin;
  isBreaking: Plugin;
  isBreakingChange: Plugin;
}

export interface Options {
  caseSensitive: boolean; // default false
  normalize: boolean; // default true
  headerRegex: string | RegExp;
}
```

<!-- docks-start -->

## API

_Generated using [jest-runner-docs](https://ghub.now.sh/jest-runner-docs)._

### [.parseHeader](./src/header.js#L28)

Parses given `header` string into an header object.
Basically the same as [.parse](#parse), except that
it only can accept single string and returns a `Header` object.

**Signature**

```ts
function(header, options)
```

<span id="parseheader-params"></span>
**Params**

- `header` **{string}** - a header stirng like `'fix(foo): bar baz'`
- `returns` **{Header}** - a `Header` object like `{ type, scope?, subject }`

_The `parse*` methods are not doing any checking and validation,
so you may want to pass the result to `validateHeader` or `checkHeader`,
or to `validateHeader` with `ret` option set to `true`._

**Example**

```js
import { parseHeader } from 'parse-commit-message';

const longCommitMsg = `fix: bar qux

Awesome body!`;

const headerObj = parseCommit(longCommitMsg);
console.log(headerObj);
// => { type: 'fix', scope: null, subject: 'bar qux' }
```

### [.stringifyHeader](./src/header.js#L53)

Receives a `header` object, validates it using `validateHeader`,
builds a "header" string and returns it. Method throws if problems found.
Basically the same as [.stringify](#stringify), except that
it only can accept single `Header` object.

**Signature**

```ts
function(header, options)
```

<span id="stringifyheader-params"></span>
**Params**

- `header` **{Header}** - a `Header` object like `{ type, scope?, subject }`
- `returns` **{string}** - a header stirng like `'fix(foo): bar baz'`



**Example**

```js
import { stringifyHeader } from 'parse-commit-message';

const headerStr = stringifyCommit({ type: 'foo', subject: 'bar qux' });
console.log(headerStr); // => 'foo: bar qux'
```

### [.validateHeader](./src/header.js#L106)

Validates given `header` object and returns `boolean`.
You may want to pass `ret` to return an object instead of throwing.
Basically the same as [.validate](#validate), except that
it only can accept single `Header` object.

**Signature**

```ts
function(header, options)
```

<span id="validateheader-params"></span>
**Params**

- `header` **{Header}** - a `Header` object like `{ type, scope?, subject }`
- `returns` **{CommitResult}** - an object like `{ value: Array<Commit>, error: Error }`



**Example**

```js
import { validateHeader } from 'parse-commit-message';

const header = { type: 'foo', subject: 'bar qux' };

const headerIsValid = validateHeader(header);
console.log(headerIsValid); // => true

const { value } = validateHeader(header, true);
console.log(value);
// => {
//   header: { type: 'foo', scope: null, subject: 'bar qux' },
//   body: 'okey dude',
//   footer: null,
// }

const { error } = validateHeader({
  type: 'bar'
}, true);

console.log(error);
// => TypeError: header.subject should be non empty string
```

### [.checkHeader](./src/header.js#L147)

Receives a `Header` and checks if it is valid.
Basically the same as [.check](#check), except that
it only can accept single `Header` object.

**Signature**

```ts
function(header, options)
```

<span id="checkheader-params"></span>
**Params**

- `header` **{Header}** - a `Header` object like `{ type, scope?, subject }`
- `options` **{object}** - options to control the header regex and case sensitivity
- `options.headerRegex` **{RegExp|string}** - string regular expression or instance of RegExp
- `options.caseSensitive` **{boolean}** - whether or not to be case sensitive, defaults to `false`
- `returns` **{Header}** - returns the same as given if no problems, otherwise it will throw.



**Example**

```js
import { checkHeader } from 'parse-commit-message';

try {
  checkHeader({ type: 'fix' });
} catch(err) {
  console.log(err);
  // => TypeError: header.subject should be non empty string
}

// throws because can accept only Header objects
checkHeader('foo bar baz');
checkHeader(123);
checkHeader([]);
checkHeader([{ type: 'foo', subject: 'bar' }]);
```

<!-- docks-end -->
